var cusbg=function(k){"use strict";function le(t){let e=t[0],r=t[1],s=t[2];return Math.sqrt(e*e+r*r+s*s)}function ge(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function pt(t,e,r,s){return t[0]=e,t[1]=r,t[2]=s,t}function Re(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Te(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function mt(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function bt(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function pe(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function xt(t,e){let r=e[0]-t[0],s=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(r*r+s*s+n*n)}function yt(t,e){let r=e[0]-t[0],s=e[1]-t[1],n=e[2]-t[2];return r*r+s*s+n*n}function Oe(t){let e=t[0],r=t[1],s=t[2];return e*e+r*r+s*s}function wt(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function vt(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function me(t,e){let r=e[0],s=e[1],n=e[2],a=r*r+s*s+n*n;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function Ie(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Le(t,e,r){let s=e[0],n=e[1],a=e[2],i=r[0],o=r[1],l=r[2];return t[0]=n*l-a*o,t[1]=a*i-s*l,t[2]=s*o-n*i,t}function kt(t,e,r,s){let n=e[0],a=e[1],i=e[2];return t[0]=n+s*(r[0]-n),t[1]=a+s*(r[1]-a),t[2]=i+s*(r[2]-i),t}function Mt(t,e,r,s,n){const a=Math.exp(-s*n);let i=e[0],o=e[1],l=e[2];return t[0]=r[0]+(i-r[0])*a,t[1]=r[1]+(o-r[1])*a,t[2]=r[2]+(l-r[2])*a,t}function _t(t,e,r){let s=e[0],n=e[1],a=e[2],i=r[3]*s+r[7]*n+r[11]*a+r[15];return i=i||1,t[0]=(r[0]*s+r[4]*n+r[8]*a+r[12])/i,t[1]=(r[1]*s+r[5]*n+r[9]*a+r[13])/i,t[2]=(r[2]*s+r[6]*n+r[10]*a+r[14])/i,t}function At(t,e,r){let s=e[0],n=e[1],a=e[2],i=r[3]*s+r[7]*n+r[11]*a+r[15];return i=i||1,t[0]=(r[0]*s+r[4]*n+r[8]*a)/i,t[1]=(r[1]*s+r[5]*n+r[9]*a)/i,t[2]=(r[2]*s+r[6]*n+r[10]*a)/i,t}function Et(t,e,r){let s=e[0],n=e[1],a=e[2];return t[0]=s*r[0]+n*r[3]+a*r[6],t[1]=s*r[1]+n*r[4]+a*r[7],t[2]=s*r[2]+n*r[5]+a*r[8],t}function zt(t,e,r){let s=e[0],n=e[1],a=e[2],i=r[0],o=r[1],l=r[2],h=r[3],c=o*a-l*n,d=l*s-i*a,f=i*n-o*s,p=o*f-l*d,u=l*c-i*f,g=i*d-o*c,m=h*2;return c*=m,d*=m,f*=m,p*=2,u*=2,g*=2,t[0]=s+c+p,t[1]=n+d+u,t[2]=a+f+g,t}const Ct=function(){const t=[0,0,0],e=[0,0,0];return function(r,s){ge(t,r),ge(e,s),me(t,t),me(e,e);let n=Ie(t,e);return n>1?0:n<-1?Math.PI:Math.acos(n)}}();function St(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class D extends Array{constructor(e=0,r=e,s=e){return super(e,r,s),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,r=e,s=e){return e.length?this.copy(e):(pt(this,e,r,s),this)}copy(e){return ge(this,e),this}add(e,r){return r?Re(this,e,r):Re(this,this,e),this}sub(e,r){return r?Te(this,e,r):Te(this,this,e),this}multiply(e){return e.length?mt(this,this,e):pe(this,this,e),this}divide(e){return e.length?bt(this,this,e):pe(this,this,1/e),this}inverse(e=this){return vt(this,e),this}len(){return le(this)}distance(e){return e?xt(this,e):le(this)}squaredLen(){return Oe(this)}squaredDistance(e){return e?yt(this,e):Oe(this)}negate(e=this){return wt(this,e),this}cross(e,r){return r?Le(this,e,r):Le(this,this,e),this}scale(e){return pe(this,this,e),this}normalize(){return me(this,this),this}dot(e){return Ie(this,e)}equals(e){return St(this,e)}applyMatrix3(e){return Et(this,this,e),this}applyMatrix4(e){return _t(this,this,e),this}scaleRotateMatrix4(e){return At(this,this,e),this}applyQuaternion(e){return zt(this,this,e),this}angle(e){return Ct(this,e)}lerp(e,r){return kt(this,this,e,r),this}smoothLerp(e,r,s){return Mt(this,this,e,r,s),this}clone(){return new D(this[0],this[1],this[2])}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}transformDirection(e){const r=this[0],s=this[1],n=this[2];return this[0]=e[0]*r+e[4]*s+e[8]*n,this[1]=e[1]*r+e[5]*s+e[9]*n,this[2]=e[2]*r+e[6]*s+e[10]*n,this.normalize()}}const Pe=new D;let Ft=1,Rt=1,Be=!1;class Tt{constructor(e,r={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=r,this.id=Ft++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let s in r)this.addAttribute(s,r[s])}addAttribute(e,r){if(this.attributes[e]=r,r.id=Rt++,r.size=r.size||1,r.type=r.type||(r.data.constructor===Float32Array?this.gl.FLOAT:r.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),r.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,r.normalized=r.normalized||!1,r.stride=r.stride||0,r.offset=r.offset||0,r.count=r.count||(r.stride?r.data.byteLength/r.stride:r.data.length/r.size),r.divisor=r.instanced||0,r.needsUpdate=!1,r.usage=r.usage||this.gl.STATIC_DRAW,r.buffer||this.updateAttribute(r),r.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==r.count*r.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,r.count*r.divisor);this.instancedCount=r.count*r.divisor}else e==="index"?this.drawRange.count=r.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,r.count))}updateAttribute(e){const r=!e.buffer;r&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),r?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((r,{name:s,type:n})=>{if(!this.attributes[s]){console.warn(`active attribute ${s} not being supplied`);return}const a=this.attributes[s];this.gl.bindBuffer(a.target,a.buffer),this.glState.boundBuffer=a.buffer;let i=1;n===35674&&(i=2),n===35675&&(i=3),n===35676&&(i=4);const o=a.size/i,l=i===1?0:i*i*4,h=i===1?0:i*4;for(let c=0;c<i;c++)this.gl.vertexAttribPointer(r+c,o,a.type,a.normalized,a.stride+l,a.offset+c*h),this.gl.enableVertexAttribArray(r+c),this.gl.renderer.vertexAttribDivisor(r+c,a.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:r=this.gl.TRIANGLES}){var n;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((a,{name:i})=>{const o=this.attributes[i];o.needsUpdate&&this.updateAttribute(o)});let s=2;((n=this.attributes.index)==null?void 0:n.type)===this.gl.UNSIGNED_INT&&(s=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s,this.instancedCount):this.gl.renderer.drawArraysInstanced(r,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s):this.gl.drawArrays(r,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!Be)return console.warn("No position buffer data found to compute bounds"),Be=!0}computeBoundingBox(e){e||(e=this.getPosition());const r=e.data,s=e.size;this.bounds||(this.bounds={min:new D,max:new D,center:new D,scale:new D,radius:1/0});const n=this.bounds.min,a=this.bounds.max,i=this.bounds.center,o=this.bounds.scale;n.set(1/0),a.set(-1/0);for(let l=0,h=r.length;l<h;l+=s){const c=r[l],d=r[l+1],f=r[l+2];n.x=Math.min(c,n.x),n.y=Math.min(d,n.y),n.z=Math.min(f,n.z),a.x=Math.max(c,a.x),a.y=Math.max(d,a.y),a.z=Math.max(f,a.z)}o.sub(a,n),i.add(n,a).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const r=e.data,s=e.size;this.bounds||this.computeBoundingBox(e);let n=0;for(let a=0,i=r.length;a<i;a+=s)Pe.fromArray(r,a),n=Math.max(n,this.bounds.center.squaredDistance(Pe));this.bounds.radius=Math.sqrt(n)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let Ot=1;const Ne={};class It{constructor(e,{vertex:r,fragment:s,uniforms:n={},transparent:a=!1,cullFace:i=e.BACK,frontFace:o=e.CCW,depthTest:l=!0,depthWrite:h=!0,depthFunc:c=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=n,this.id=Ot++,r||console.warn("vertex shader not supplied"),s||console.warn("fragment shader not supplied"),this.transparent=a,this.cullFace=i,this.frontFace=o,this.depthTest=l,this.depthWrite=h,this.depthFunc=c,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:r,fragment:s})}setShaders({vertex:e,fragment:r}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${Ve(e)}`)),r&&(this.gl.shaderSource(this.fragmentShader,r),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${Ve(r)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let i=0;i<s;i++){let o=this.gl.getActiveUniform(this.program,i);this.uniformLocations.set(o,this.gl.getUniformLocation(this.program,o.name));const l=o.name.match(/(\w+)/g);o.uniformName=l[0],o.nameComponents=l.slice(1)}this.attributeLocations=new Map;const n=[],a=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let i=0;i<a;i++){const o=this.gl.getActiveAttrib(this.program,i),l=this.gl.getAttribLocation(this.program,o.name);l!==-1&&(n[l]=o.name,this.attributeLocations.set(o,l))}this.attributeOrder=n.join("")}setBlendFunc(e,r,s,n){this.blendFunc.src=e,this.blendFunc.dst=r,this.blendFunc.srcAlpha=s,this.blendFunc.dstAlpha=n,e&&(this.transparent=!0)}setBlendEquation(e,r){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=r}setStencilFunc(e,r,s){this.stencilRef=r,this.stencilFunc.func=e,this.stencilFunc.ref=r,this.stencilFunc.mask=s}setStencilOp(e,r,s){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=r,this.stencilOp.depthPass=s}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let r=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((n,a)=>{let i=this.uniforms[a.uniformName];for(const o of a.nameComponents){if(!i)break;if(o in i)i=i[o];else{if(Array.isArray(i.value))break;i=void 0;break}}if(!i)return Ge(`Active uniform ${a.name} has not been supplied`);if(i&&i.value===void 0)return Ge(`${a.name} uniform is missing a value parameter`);if(i.value.texture)return r=r+1,i.value.update(r),be(this.gl,a.type,n,r);if(i.value.length&&i.value[0].texture){const o=[];return i.value.forEach(l=>{r=r+1,l.update(r),o.push(r)}),be(this.gl,a.type,n,o)}be(this.gl,a.type,n,i.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function be(t,e,r,s){s=s.length?Lt(s):s;const n=t.renderer.state.uniformLocations.get(r);if(s.length)if(n===void 0||n.length!==s.length)t.renderer.state.uniformLocations.set(r,s.slice(0));else{if(Pt(n,s))return;n.set?n.set(s):Bt(n,s),t.renderer.state.uniformLocations.set(r,n)}else{if(n===s)return;t.renderer.state.uniformLocations.set(r,s)}switch(e){case 5126:return s.length?t.uniform1fv(r,s):t.uniform1f(r,s);case 35664:return t.uniform2fv(r,s);case 35665:return t.uniform3fv(r,s);case 35666:return t.uniform4fv(r,s);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return s.length?t.uniform1iv(r,s):t.uniform1i(r,s);case 35671:case 35667:return t.uniform2iv(r,s);case 35672:case 35668:return t.uniform3iv(r,s);case 35673:case 35669:return t.uniform4iv(r,s);case 35674:return t.uniformMatrix2fv(r,!1,s);case 35675:return t.uniformMatrix3fv(r,!1,s);case 35676:return t.uniformMatrix4fv(r,!1,s)}}function Ve(t){let e=t.split(`
`);for(let r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join(`
`)}function Lt(t){const e=t.length,r=t[0].length;if(r===void 0)return t;const s=e*r;let n=Ne[s];n||(Ne[s]=n=new Float32Array(s));for(let a=0;a<e;a++)n.set(t[a],a*r);return n}function Pt(t,e){if(t.length!==e.length)return!1;for(let r=0,s=t.length;r<s;r++)if(t[r]!==e[r])return!1;return!0}function Bt(t,e){for(let r=0,s=t.length;r<s;r++)t[r]=e[r]}let xe=0;function Ge(t){xe>100||(console.warn(t),xe++,xe>100&&console.warn("More than 100 program warnings - stopping logs."))}const ye=new D;let Nt=1;class Vt{constructor({canvas:e=document.createElement("canvas"),width:r=300,height:s=150,dpr:n=1,alpha:a=!1,depth:i=!0,stencil:o=!1,antialias:l=!1,premultipliedAlpha:h=!1,preserveDrawingBuffer:c=!1,powerPreference:d="default",autoClear:f=!0,webgl:p=2}={}){const u={alpha:a,depth:i,stencil:o,antialias:l,premultipliedAlpha:h,preserveDrawingBuffer:c,powerPreference:d};this.dpr=n,this.alpha=a,this.color=!0,this.depth=i,this.stencil=o,this.premultipliedAlpha=h,this.autoClear=f,this.id=Nt++,p===2&&(this.gl=e.getContext("webgl2",u)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",u)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(r,s),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,r){this.width=e,this.height=r,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=r*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:r+"px"})}setViewport(e,r,s=0,n=0){this.state.viewport.width===e&&this.state.viewport.height===r||(this.state.viewport.width=e,this.state.viewport.height=r,this.state.viewport.x=s,this.state.viewport.y=n,this.gl.viewport(s,n,e,r))}setScissor(e,r,s=0,n=0){this.gl.scissor(s,n,e,r)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,r,s,n){this.state.blendFunc.src===e&&this.state.blendFunc.dst===r&&this.state.blendFunc.srcAlpha===s&&this.state.blendFunc.dstAlpha===n||(this.state.blendFunc.src=e,this.state.blendFunc.dst=r,this.state.blendFunc.srcAlpha=s,this.state.blendFunc.dstAlpha=n,s!==void 0?this.gl.blendFuncSeparate(e,r,s,n):this.gl.blendFunc(e,r))}setBlendEquation(e,r){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===r)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=r,r!==void 0?this.gl.blendEquationSeparate(e,r):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,r,s){this.state.stencilFunc===e&&this.state.stencilRef===r&&this.state.stencilFuncMask===s||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=r||0,this.state.stencilFuncMask=s||0,this.gl.stencilFunc(e||this.gl.ALWAYS,r||0,s||0))}setStencilOp(e,r,s){this.state.stencilFail===e&&this.state.stencilDepthFail===r&&this.state.stencilDepthPass===s||(this.state.stencilFail=e,this.state.stencilDepthFail=r,this.state.stencilDepthPass=s,this.gl.stencilOp(e,r,s))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:r=null}={}){this.state.framebuffer!==r&&(this.state.framebuffer=r,this.gl.bindFramebuffer(e,r))}getExtension(e,r,s){return r&&this.gl[r]?this.gl[r].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),r?this.extensions[e]?this.extensions[e][s].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:e.zDepth!==r.zDepth?e.zDepth-r.zDepth:r.id-e.id}sortTransparent(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.zDepth!==r.zDepth?r.zDepth-e.zDepth:r.id-e.id}sortUI(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:r.id-e.id}getRenderList({scene:e,camera:r,frustumCull:s,sort:n}){let a=[];if(r&&s&&r.updateFrustum(),e.traverse(i=>{if(!i.visible)return!0;i.draw&&(s&&i.frustumCulled&&r&&!r.frustumIntersectsMesh(i)||a.push(i))}),n){const i=[],o=[],l=[];a.forEach(h=>{h.program.transparent?h.program.depthTest?o.push(h):l.push(h):i.push(h),h.zDepth=0,!(h.renderOrder!==0||!h.program.depthTest||!r)&&(h.worldMatrix.getTranslation(ye),ye.applyMatrix4(r.projectionViewMatrix),h.zDepth=ye.z)}),i.sort(this.sortOpaque),o.sort(this.sortTransparent),l.sort(this.sortUI),a=i.concat(o,l)}return a}render({scene:e,camera:r,target:s=null,update:n=!0,sort:a=!0,frustumCull:i=!0,clear:o}){s===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(s),this.setViewport(s.width,s.height)),(o||this.autoClear&&o!==!1)&&(this.depth&&(!s||s.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!s||s.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),n&&e.updateMatrixWorld(),r&&r.updateMatrixWorld(),this.getRenderList({scene:e,camera:r,frustumCull:i,sort:a}).forEach(h=>{h.draw({camera:r})})}}function Gt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function $t(t,e,r,s,n){return t[0]=e,t[1]=r,t[2]=s,t[3]=n,t}function Ut(t,e){let r=e[0],s=e[1],n=e[2],a=e[3],i=r*r+s*s+n*n+a*a;return i>0&&(i=1/Math.sqrt(i)),t[0]=r*i,t[1]=s*i,t[2]=n*i,t[3]=a*i,t}function Dt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Wt(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function qt(t,e,r){r=r*.5;let s=Math.sin(r);return t[0]=s*e[0],t[1]=s*e[1],t[2]=s*e[2],t[3]=Math.cos(r),t}function $e(t,e,r){let s=e[0],n=e[1],a=e[2],i=e[3],o=r[0],l=r[1],h=r[2],c=r[3];return t[0]=s*c+i*o+n*h-a*l,t[1]=n*c+i*l+a*o-s*h,t[2]=a*c+i*h+s*l-n*o,t[3]=i*c-s*o-n*l-a*h,t}function jt(t,e,r){r*=.5;let s=e[0],n=e[1],a=e[2],i=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=s*l+i*o,t[1]=n*l+a*o,t[2]=a*l-n*o,t[3]=i*l-s*o,t}function Xt(t,e,r){r*=.5;let s=e[0],n=e[1],a=e[2],i=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=s*l-a*o,t[1]=n*l+i*o,t[2]=a*l+s*o,t[3]=i*l-n*o,t}function Yt(t,e,r){r*=.5;let s=e[0],n=e[1],a=e[2],i=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=s*l+n*o,t[1]=n*l-s*o,t[2]=a*l+i*o,t[3]=i*l-a*o,t}function Ht(t,e,r,s){let n=e[0],a=e[1],i=e[2],o=e[3],l=r[0],h=r[1],c=r[2],d=r[3],f,p,u,g,m;return p=n*l+a*h+i*c+o*d,p<0&&(p=-p,l=-l,h=-h,c=-c,d=-d),1-p>1e-6?(f=Math.acos(p),u=Math.sin(f),g=Math.sin((1-s)*f)/u,m=Math.sin(s*f)/u):(g=1-s,m=s),t[0]=g*n+m*l,t[1]=g*a+m*h,t[2]=g*i+m*c,t[3]=g*o+m*d,t}function Zt(t,e){let r=e[0],s=e[1],n=e[2],a=e[3],i=r*r+s*s+n*n+a*a,o=i?1/i:0;return t[0]=-r*o,t[1]=-s*o,t[2]=-n*o,t[3]=a*o,t}function Qt(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Kt(t,e){let r=e[0]+e[4]+e[8],s;if(r>0)s=Math.sqrt(r+1),t[3]=.5*s,s=.5/s,t[0]=(e[5]-e[7])*s,t[1]=(e[6]-e[2])*s,t[2]=(e[1]-e[3])*s;else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[n*3+n]&&(n=2);let a=(n+1)%3,i=(n+2)%3;s=Math.sqrt(e[n*3+n]-e[a*3+a]-e[i*3+i]+1),t[n]=.5*s,s=.5/s,t[3]=(e[a*3+i]-e[i*3+a])*s,t[a]=(e[a*3+n]+e[n*3+a])*s,t[i]=(e[i*3+n]+e[n*3+i])*s}return t}function Jt(t,e,r="YXZ"){let s=Math.sin(e[0]*.5),n=Math.cos(e[0]*.5),a=Math.sin(e[1]*.5),i=Math.cos(e[1]*.5),o=Math.sin(e[2]*.5),l=Math.cos(e[2]*.5);return r==="XYZ"?(t[0]=s*i*l+n*a*o,t[1]=n*a*l-s*i*o,t[2]=n*i*o+s*a*l,t[3]=n*i*l-s*a*o):r==="YXZ"?(t[0]=s*i*l+n*a*o,t[1]=n*a*l-s*i*o,t[2]=n*i*o-s*a*l,t[3]=n*i*l+s*a*o):r==="ZXY"?(t[0]=s*i*l-n*a*o,t[1]=n*a*l+s*i*o,t[2]=n*i*o+s*a*l,t[3]=n*i*l-s*a*o):r==="ZYX"?(t[0]=s*i*l-n*a*o,t[1]=n*a*l+s*i*o,t[2]=n*i*o-s*a*l,t[3]=n*i*l+s*a*o):r==="YZX"?(t[0]=s*i*l+n*a*o,t[1]=n*a*l+s*i*o,t[2]=n*i*o-s*a*l,t[3]=n*i*l-s*a*o):r==="XZY"&&(t[0]=s*i*l-n*a*o,t[1]=n*a*l-s*i*o,t[2]=n*i*o+s*a*l,t[3]=n*i*l+s*a*o),t}const er=Gt,tr=$t,rr=Dt,sr=Ut;class nr extends Array{constructor(e=0,r=0,s=0,n=1){super(e,r,s,n),this.onChange=()=>{},this._target=this;const a=["0","1","2","3"];return new Proxy(this,{set(i,o){const l=Reflect.set(...arguments);return l&&a.includes(o)&&i.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return Wt(this._target),this.onChange(),this}set(e,r,s,n){return e.length?this.copy(e):(tr(this._target,e,r,s,n),this.onChange(),this)}rotateX(e){return jt(this._target,this._target,e),this.onChange(),this}rotateY(e){return Xt(this._target,this._target,e),this.onChange(),this}rotateZ(e){return Yt(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return Zt(this._target,e),this.onChange(),this}conjugate(e=this._target){return Qt(this._target,e),this.onChange(),this}copy(e){return er(this._target,e),this.onChange(),this}normalize(e=this._target){return sr(this._target,e),this.onChange(),this}multiply(e,r){return r?$e(this._target,e,r):$e(this._target,this._target,e),this.onChange(),this}dot(e){return rr(this._target,e)}fromMatrix3(e){return Kt(this._target,e),this.onChange(),this}fromEuler(e,r){return Jt(this._target,e,e.order),r||this.onChange(),this}fromAxisAngle(e,r){return qt(this._target,e,r),this.onChange(),this}slerp(e,r){return Ht(this._target,this._target,e,r),this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this._target[3]=e[r+3],this.onChange(),this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e}}const ir=1e-6;function ar(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function lr(t,e,r,s,n,a,i,o,l,h,c,d,f,p,u,g,m){return t[0]=e,t[1]=r,t[2]=s,t[3]=n,t[4]=a,t[5]=i,t[6]=o,t[7]=l,t[8]=h,t[9]=c,t[10]=d,t[11]=f,t[12]=p,t[13]=u,t[14]=g,t[15]=m,t}function or(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function cr(t,e){let r=e[0],s=e[1],n=e[2],a=e[3],i=e[4],o=e[5],l=e[6],h=e[7],c=e[8],d=e[9],f=e[10],p=e[11],u=e[12],g=e[13],m=e[14],x=e[15],S=r*o-s*i,A=r*l-n*i,b=r*h-a*i,w=s*l-n*o,y=s*h-a*o,z=n*h-a*l,v=c*g-d*u,R=c*m-f*u,O=c*x-p*u,I=d*m-f*g,T=d*x-p*g,L=f*x-p*m,C=S*L-A*T+b*I+w*O-y*R+z*v;return C?(C=1/C,t[0]=(o*L-l*T+h*I)*C,t[1]=(n*T-s*L-a*I)*C,t[2]=(g*z-m*y+x*w)*C,t[3]=(f*y-d*z-p*w)*C,t[4]=(l*O-i*L-h*R)*C,t[5]=(r*L-n*O+a*R)*C,t[6]=(m*b-u*z-x*A)*C,t[7]=(c*z-f*b+p*A)*C,t[8]=(i*T-o*O+h*v)*C,t[9]=(s*O-r*T-a*v)*C,t[10]=(u*y-g*b+x*S)*C,t[11]=(d*b-c*y-p*S)*C,t[12]=(o*R-i*I-l*v)*C,t[13]=(r*I-s*R+n*v)*C,t[14]=(g*A-u*w-m*S)*C,t[15]=(c*w-d*A+f*S)*C,t):null}function Ue(t){let e=t[0],r=t[1],s=t[2],n=t[3],a=t[4],i=t[5],o=t[6],l=t[7],h=t[8],c=t[9],d=t[10],f=t[11],p=t[12],u=t[13],g=t[14],m=t[15],x=e*i-r*a,S=e*o-s*a,A=e*l-n*a,b=r*o-s*i,w=r*l-n*i,y=s*l-n*o,z=h*u-c*p,v=h*g-d*p,R=h*m-f*p,O=c*g-d*u,I=c*m-f*u,T=d*m-f*g;return x*T-S*I+A*O+b*R-w*v+y*z}function De(t,e,r){let s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],l=e[5],h=e[6],c=e[7],d=e[8],f=e[9],p=e[10],u=e[11],g=e[12],m=e[13],x=e[14],S=e[15],A=r[0],b=r[1],w=r[2],y=r[3];return t[0]=A*s+b*o+w*d+y*g,t[1]=A*n+b*l+w*f+y*m,t[2]=A*a+b*h+w*p+y*x,t[3]=A*i+b*c+w*u+y*S,A=r[4],b=r[5],w=r[6],y=r[7],t[4]=A*s+b*o+w*d+y*g,t[5]=A*n+b*l+w*f+y*m,t[6]=A*a+b*h+w*p+y*x,t[7]=A*i+b*c+w*u+y*S,A=r[8],b=r[9],w=r[10],y=r[11],t[8]=A*s+b*o+w*d+y*g,t[9]=A*n+b*l+w*f+y*m,t[10]=A*a+b*h+w*p+y*x,t[11]=A*i+b*c+w*u+y*S,A=r[12],b=r[13],w=r[14],y=r[15],t[12]=A*s+b*o+w*d+y*g,t[13]=A*n+b*l+w*f+y*m,t[14]=A*a+b*h+w*p+y*x,t[15]=A*i+b*c+w*u+y*S,t}function hr(t,e,r){let s=r[0],n=r[1],a=r[2],i,o,l,h,c,d,f,p,u,g,m,x;return e===t?(t[12]=e[0]*s+e[4]*n+e[8]*a+e[12],t[13]=e[1]*s+e[5]*n+e[9]*a+e[13],t[14]=e[2]*s+e[6]*n+e[10]*a+e[14],t[15]=e[3]*s+e[7]*n+e[11]*a+e[15]):(i=e[0],o=e[1],l=e[2],h=e[3],c=e[4],d=e[5],f=e[6],p=e[7],u=e[8],g=e[9],m=e[10],x=e[11],t[0]=i,t[1]=o,t[2]=l,t[3]=h,t[4]=c,t[5]=d,t[6]=f,t[7]=p,t[8]=u,t[9]=g,t[10]=m,t[11]=x,t[12]=i*s+c*n+u*a+e[12],t[13]=o*s+d*n+g*a+e[13],t[14]=l*s+f*n+m*a+e[14],t[15]=h*s+p*n+x*a+e[15]),t}function dr(t,e,r){let s=r[0],n=r[1],a=r[2];return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function fr(t,e,r,s){let n=s[0],a=s[1],i=s[2],o=Math.hypot(n,a,i),l,h,c,d,f,p,u,g,m,x,S,A,b,w,y,z,v,R,O,I,T,L,C,$;return Math.abs(o)<ir?null:(o=1/o,n*=o,a*=o,i*=o,l=Math.sin(r),h=Math.cos(r),c=1-h,d=e[0],f=e[1],p=e[2],u=e[3],g=e[4],m=e[5],x=e[6],S=e[7],A=e[8],b=e[9],w=e[10],y=e[11],z=n*n*c+h,v=a*n*c+i*l,R=i*n*c-a*l,O=n*a*c-i*l,I=a*a*c+h,T=i*a*c+n*l,L=n*i*c+a*l,C=a*i*c-n*l,$=i*i*c+h,t[0]=d*z+g*v+A*R,t[1]=f*z+m*v+b*R,t[2]=p*z+x*v+w*R,t[3]=u*z+S*v+y*R,t[4]=d*O+g*I+A*T,t[5]=f*O+m*I+b*T,t[6]=p*O+x*I+w*T,t[7]=u*O+S*I+y*T,t[8]=d*L+g*C+A*$,t[9]=f*L+m*C+b*$,t[10]=p*L+x*C+w*$,t[11]=u*L+S*C+y*$,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ur(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function We(t,e){let r=e[0],s=e[1],n=e[2],a=e[4],i=e[5],o=e[6],l=e[8],h=e[9],c=e[10];return t[0]=Math.hypot(r,s,n),t[1]=Math.hypot(a,i,o),t[2]=Math.hypot(l,h,c),t}function gr(t){let e=t[0],r=t[1],s=t[2],n=t[4],a=t[5],i=t[6],o=t[8],l=t[9],h=t[10];const c=e*e+r*r+s*s,d=n*n+a*a+i*i,f=o*o+l*l+h*h;return Math.sqrt(Math.max(c,d,f))}const qe=function(){const t=[1,1,1];return function(e,r){let s=t;We(s,r);let n=1/s[0],a=1/s[1],i=1/s[2],o=r[0]*n,l=r[1]*a,h=r[2]*i,c=r[4]*n,d=r[5]*a,f=r[6]*i,p=r[8]*n,u=r[9]*a,g=r[10]*i,m=o+d+g,x=0;return m>0?(x=Math.sqrt(m+1)*2,e[3]=.25*x,e[0]=(f-u)/x,e[1]=(p-h)/x,e[2]=(l-c)/x):o>d&&o>g?(x=Math.sqrt(1+o-d-g)*2,e[3]=(f-u)/x,e[0]=.25*x,e[1]=(l+c)/x,e[2]=(p+h)/x):d>g?(x=Math.sqrt(1+d-o-g)*2,e[3]=(p-h)/x,e[0]=(l+c)/x,e[1]=.25*x,e[2]=(f+u)/x):(x=Math.sqrt(1+g-o-d)*2,e[3]=(l-c)/x,e[0]=(p+h)/x,e[1]=(f+u)/x,e[2]=.25*x),e}}();function pr(t,e,r,s){let n=le([t[0],t[1],t[2]]);const a=le([t[4],t[5],t[6]]),i=le([t[8],t[9],t[10]]);Ue(t)<0&&(n=-n),r[0]=t[12],r[1]=t[13],r[2]=t[14];const l=t.slice(),h=1/n,c=1/a,d=1/i;l[0]*=h,l[1]*=h,l[2]*=h,l[4]*=c,l[5]*=c,l[6]*=c,l[8]*=d,l[9]*=d,l[10]*=d,qe(e,l),s[0]=n,s[1]=a,s[2]=i}function mr(t,e,r,s){const n=t,a=e[0],i=e[1],o=e[2],l=e[3],h=a+a,c=i+i,d=o+o,f=a*h,p=a*c,u=a*d,g=i*c,m=i*d,x=o*d,S=l*h,A=l*c,b=l*d,w=s[0],y=s[1],z=s[2];return n[0]=(1-(g+x))*w,n[1]=(p+b)*w,n[2]=(u-A)*w,n[3]=0,n[4]=(p-b)*y,n[5]=(1-(f+x))*y,n[6]=(m+S)*y,n[7]=0,n[8]=(u+A)*z,n[9]=(m-S)*z,n[10]=(1-(f+g))*z,n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function br(t,e){let r=e[0],s=e[1],n=e[2],a=e[3],i=r+r,o=s+s,l=n+n,h=r*i,c=s*i,d=s*o,f=n*i,p=n*o,u=n*l,g=a*i,m=a*o,x=a*l;return t[0]=1-d-u,t[1]=c+x,t[2]=f-m,t[3]=0,t[4]=c-x,t[5]=1-h-u,t[6]=p+g,t[7]=0,t[8]=f+m,t[9]=p-g,t[10]=1-h-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function xr(t,e,r,s,n){let a=1/Math.tan(e/2),i=1/(s-n);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+s)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*s*i,t[15]=0,t}function yr(t,e,r,s,n,a,i){let o=1/(e-r),l=1/(s-n),h=1/(a-i);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+r)*o,t[13]=(n+s)*l,t[14]=(i+a)*h,t[15]=1,t}function wr(t,e,r,s){let n=e[0],a=e[1],i=e[2],o=s[0],l=s[1],h=s[2],c=n-r[0],d=a-r[1],f=i-r[2],p=c*c+d*d+f*f;p===0?f=1:(p=1/Math.sqrt(p),c*=p,d*=p,f*=p);let u=l*f-h*d,g=h*c-o*f,m=o*d-l*c;return p=u*u+g*g+m*m,p===0&&(h?o+=1e-6:l?h+=1e-6:l+=1e-6,u=l*f-h*d,g=h*c-o*f,m=o*d-l*c,p=u*u+g*g+m*m),p=1/Math.sqrt(p),u*=p,g*=p,m*=p,t[0]=u,t[1]=g,t[2]=m,t[3]=0,t[4]=d*m-f*g,t[5]=f*u-c*m,t[6]=c*g-d*u,t[7]=0,t[8]=c,t[9]=d,t[10]=f,t[11]=0,t[12]=n,t[13]=a,t[14]=i,t[15]=1,t}function je(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function Xe(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function vr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}class ce extends Array{constructor(e=1,r=0,s=0,n=0,a=0,i=1,o=0,l=0,h=0,c=0,d=1,f=0,p=0,u=0,g=0,m=1){return super(e,r,s,n,a,i,o,l,h,c,d,f,p,u,g,m),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,r,s,n,a,i,o,l,h,c,d,f,p,u,g,m){return e.length?this.copy(e):(lr(this,e,r,s,n,a,i,o,l,h,c,d,f,p,u,g,m),this)}translate(e,r=this){return hr(this,r,e),this}rotate(e,r,s=this){return fr(this,s,e,r),this}scale(e,r=this){return dr(this,r,typeof e=="number"?[e,e,e]:e),this}add(e,r){return r?je(this,e,r):je(this,this,e),this}sub(e,r){return r?Xe(this,e,r):Xe(this,this,e),this}multiply(e,r){return e.length?r?De(this,e,r):De(this,this,e):vr(this,this,e),this}identity(){return or(this),this}copy(e){return ar(this,e),this}fromPerspective({fov:e,aspect:r,near:s,far:n}={}){return xr(this,e,r,s,n),this}fromOrthogonal({left:e,right:r,bottom:s,top:n,near:a,far:i}){return yr(this,e,r,s,n,a,i),this}fromQuaternion(e){return br(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return cr(this,e),this}compose(e,r,s){return mr(this,e,r,s),this}decompose(e,r,s){return pr(this,e,r,s),this}getRotation(e){return qe(e,this),this}getTranslation(e){return ur(e,this),this}getScaling(e){return We(e,this),this}getMaxScaleOnAxis(){return gr(this)}lookAt(e,r,s){return wr(this,e,r,s),this}determinant(){return Ue(this)}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this[3]=e[r+3],this[4]=e[r+4],this[5]=e[r+5],this[6]=e[r+6],this[7]=e[r+7],this[8]=e[r+8],this[9]=e[r+9],this[10]=e[r+10],this[11]=e[r+11],this[12]=e[r+12],this[13]=e[r+13],this[14]=e[r+14],this[15]=e[r+15],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e[r+4]=this[4],e[r+5]=this[5],e[r+6]=this[6],e[r+7]=this[7],e[r+8]=this[8],e[r+9]=this[9],e[r+10]=this[10],e[r+11]=this[11],e[r+12]=this[12],e[r+13]=this[13],e[r+14]=this[14],e[r+15]=this[15],e}}function kr(t,e,r="YXZ"){return r==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):r==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):r==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):r==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):r==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):r==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const Ye=new ce;class Mr extends Array{constructor(e=0,r=e,s=e,n="YXZ"){super(e,r,s),this.order=n,this.onChange=()=>{},this._target=this;const a=["0","1","2"];return new Proxy(this,{set(i,o){const l=Reflect.set(...arguments);return l&&a.includes(o)&&i.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,r=e,s=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=r,this._target[2]=s,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,r=this.order){return kr(this._target,e,r),this.onChange(),this}fromQuaternion(e,r=this.order,s){return Ye.fromQuaternion(e),this._target.fromRotationMatrix(Ye,r),s||this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}}class _r{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new ce,this.worldMatrix=new ce,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new D,this.quaternion=new nr,this.scale=new D(1),this.rotation=new Mr,this.up=new D(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,r=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,r&&e&&e.addChild(this,!1)}addChild(e,r=!0){~this.children.indexOf(e)||this.children.push(e),r&&e.setParent(this,!1)}removeChild(e,r=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),r&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let r=0,s=this.children.length;r<s;r++)this.children[r].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let r=0,s=this.children.length;r<s;r++)this.children[r].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,r=!1){r?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function Ar(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Er(t,e){let r=e[0],s=e[1],n=e[2],a=e[3],i=r+r,o=s+s,l=n+n,h=r*i,c=s*i,d=s*o,f=n*i,p=n*o,u=n*l,g=a*i,m=a*o,x=a*l;return t[0]=1-d-u,t[3]=c-x,t[6]=f+m,t[1]=c+x,t[4]=1-h-u,t[7]=p-g,t[2]=f-m,t[5]=p+g,t[8]=1-h-d,t}function zr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Cr(t,e,r,s,n,a,i,o,l,h){return t[0]=e,t[1]=r,t[2]=s,t[3]=n,t[4]=a,t[5]=i,t[6]=o,t[7]=l,t[8]=h,t}function Sr(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Fr(t,e){let r=e[0],s=e[1],n=e[2],a=e[3],i=e[4],o=e[5],l=e[6],h=e[7],c=e[8],d=c*i-o*h,f=-c*a+o*l,p=h*a-i*l,u=r*d+s*f+n*p;return u?(u=1/u,t[0]=d*u,t[1]=(-c*s+n*h)*u,t[2]=(o*s-n*i)*u,t[3]=f*u,t[4]=(c*r-n*l)*u,t[5]=(-o*r+n*a)*u,t[6]=p*u,t[7]=(-h*r+s*l)*u,t[8]=(i*r-s*a)*u,t):null}function He(t,e,r){let s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],l=e[5],h=e[6],c=e[7],d=e[8],f=r[0],p=r[1],u=r[2],g=r[3],m=r[4],x=r[5],S=r[6],A=r[7],b=r[8];return t[0]=f*s+p*i+u*h,t[1]=f*n+p*o+u*c,t[2]=f*a+p*l+u*d,t[3]=g*s+m*i+x*h,t[4]=g*n+m*o+x*c,t[5]=g*a+m*l+x*d,t[6]=S*s+A*i+b*h,t[7]=S*n+A*o+b*c,t[8]=S*a+A*l+b*d,t}function Rr(t,e,r){let s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],l=e[5],h=e[6],c=e[7],d=e[8],f=r[0],p=r[1];return t[0]=s,t[1]=n,t[2]=a,t[3]=i,t[4]=o,t[5]=l,t[6]=f*s+p*i+h,t[7]=f*n+p*o+c,t[8]=f*a+p*l+d,t}function Tr(t,e,r){let s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],l=e[5],h=e[6],c=e[7],d=e[8],f=Math.sin(r),p=Math.cos(r);return t[0]=p*s+f*i,t[1]=p*n+f*o,t[2]=p*a+f*l,t[3]=p*i-f*s,t[4]=p*o-f*n,t[5]=p*l-f*a,t[6]=h,t[7]=c,t[8]=d,t}function Or(t,e,r){let s=r[0],n=r[1];return t[0]=s*e[0],t[1]=s*e[1],t[2]=s*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ir(t,e){let r=e[0],s=e[1],n=e[2],a=e[3],i=e[4],o=e[5],l=e[6],h=e[7],c=e[8],d=e[9],f=e[10],p=e[11],u=e[12],g=e[13],m=e[14],x=e[15],S=r*o-s*i,A=r*l-n*i,b=r*h-a*i,w=s*l-n*o,y=s*h-a*o,z=n*h-a*l,v=c*g-d*u,R=c*m-f*u,O=c*x-p*u,I=d*m-f*g,T=d*x-p*g,L=f*x-p*m,C=S*L-A*T+b*I+w*O-y*R+z*v;return C?(C=1/C,t[0]=(o*L-l*T+h*I)*C,t[1]=(l*O-i*L-h*R)*C,t[2]=(i*T-o*O+h*v)*C,t[3]=(n*T-s*L-a*I)*C,t[4]=(r*L-n*O+a*R)*C,t[5]=(s*O-r*T-a*v)*C,t[6]=(g*z-m*y+x*w)*C,t[7]=(m*b-u*z-x*A)*C,t[8]=(u*y-g*b+x*S)*C,t):null}class Lr extends Array{constructor(e=1,r=0,s=0,n=0,a=1,i=0,o=0,l=0,h=1){return super(e,r,s,n,a,i,o,l,h),this}set(e,r,s,n,a,i,o,l,h){return e.length?this.copy(e):(Cr(this,e,r,s,n,a,i,o,l,h),this)}translate(e,r=this){return Rr(this,r,e),this}rotate(e,r=this){return Tr(this,r,e),this}scale(e,r=this){return Or(this,r,e),this}multiply(e,r){return r?He(this,e,r):He(this,this,e),this}identity(){return Sr(this),this}copy(e){return zr(this,e),this}fromMatrix4(e){return Ar(this,e),this}fromQuaternion(e){return Er(this,e),this}fromBasis(e,r,s){return this.set(e[0],e[1],e[2],r[0],r[1],r[2],s[0],s[1],s[2]),this}inverse(e=this){return Fr(this,e),this}getNormalMatrix(e){return Ir(this,e),this}}let Pr=0;class Br extends _r{constructor(e,{geometry:r,program:s,mode:n=e.TRIANGLES,frustumCulled:a=!0,renderOrder:i=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=Pr++,this.geometry=r,this.program=s,this.mode=n,this.frustumCulled=a,this.renderOrder=i,this.modelViewMatrix=new ce,this.normalMatrix=new Lr,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:e}));let r=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:r}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:e}))}}const Ze={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function Qe(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function Nr(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function Ke(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?Qe(t):Ze[t.toLowerCase()]?Qe(Ze[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):Nr(t)}class Vr extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...Ke(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(Ke(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class Gr extends Tt{constructor(e,{attributes:r={}}={}){Object.assign(r,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,r)}}function Je(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=Je(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function $r(){for(var t,e,r=0,s="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=Je(t))&&(s&&(s+=" "),s+=e);return s}const we="-",Ur=t=>{const e=Wr(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:i=>{const o=i.split(we);return o[0]===""&&o.length!==1&&o.shift(),et(o,e)||Dr(i)},getConflictingClassGroupIds:(i,o)=>{const l=r[i]||[];return o&&s[i]?[...l,...s[i]]:l}}},et=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),n=s?et(t.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const a=t.join(we);return(i=e.validators.find(({validator:o})=>o(a)))==null?void 0:i.classGroupId},tt=/^\[(.+)\]$/,Dr=t=>{if(tt.test(t)){const e=tt.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Wr=t=>{const{theme:e,classGroups:r}=t,s={nextPart:new Map,validators:[]};for(const n in r)ve(r[n],s,n,e);return s},ve=(t,e,r,s)=>{t.forEach(n=>{if(typeof n=="string"){const a=n===""?e:rt(e,n);a.classGroupId=r;return}if(typeof n=="function"){if(qr(n)){ve(n(s),e,r,s);return}e.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([a,i])=>{ve(i,rt(e,a),r,s)})})},rt=(t,e)=>{let r=t;return e.split(we).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},qr=t=>t.isThemeGetter,jr=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const n=(a,i)=>{r.set(a,i),e++,e>t&&(e=0,s=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=s.get(a))!==void 0)return n(a,i),i},set(a,i){r.has(a)?r.set(a,i):n(a,i)}}},ke="!",Me=":",Xr=Me.length,Yr=t=>{const{prefix:e,experimentalParseClassName:r}=t;let s=n=>{const a=[];let i=0,o=0,l=0,h;for(let u=0;u<n.length;u++){let g=n[u];if(i===0&&o===0){if(g===Me){a.push(n.slice(l,u)),l=u+Xr;continue}if(g==="/"){h=u;continue}}g==="["?i++:g==="]"?i--:g==="("?o++:g===")"&&o--}const c=a.length===0?n:n.substring(l),d=Hr(c),f=d!==c,p=h&&h>l?h-l:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:p}};if(e){const n=e+Me,a=s;s=i=>i.startsWith(n)?a(i.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(r){const n=s;s=a=>r({className:a,parseClassName:n})}return s},Hr=t=>t.endsWith(ke)?t.substring(0,t.length-1):t.startsWith(ke)?t.substring(1):t,Zr=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const n=[];let a=[];return s.forEach(i=>{i[0]==="["||e[i]?(n.push(...a.sort(),i),a=[]):a.push(i)}),n.push(...a.sort()),n}},Qr=t=>({cache:jr(t.cacheSize),parseClassName:Yr(t),sortModifiers:Zr(t),...Ur(t)}),Kr=/\s+/,Jr=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n,sortModifiers:a}=e,i=[],o=t.trim().split(Kr);let l="";for(let h=o.length-1;h>=0;h-=1){const c=o[h],{isExternal:d,modifiers:f,hasImportantModifier:p,baseClassName:u,maybePostfixModifierPosition:g}=r(c);if(d){l=c+(l.length>0?" "+l:l);continue}let m=!!g,x=s(m?u.substring(0,g):u);if(!x){if(!m){l=c+(l.length>0?" "+l:l);continue}if(x=s(u),!x){l=c+(l.length>0?" "+l:l);continue}m=!1}const S=a(f).join(":"),A=p?S+ke:S,b=A+x;if(i.includes(b))continue;i.push(b);const w=n(x,m);for(let y=0;y<w.length;++y){const z=w[y];i.push(A+z)}l=c+(l.length>0?" "+l:l)}return l};function es(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=st(e))&&(s&&(s+=" "),s+=r);return s}const st=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=st(t[s]))&&(r&&(r+=" "),r+=e);return r};function ts(t,...e){let r,s,n,a=i;function i(l){const h=e.reduce((c,d)=>d(c),t());return r=Qr(h),s=r.cache.get,n=r.cache.set,a=o,o(l)}function o(l){const h=s(l);if(h)return h;const c=Jr(l,r);return n(l,c),c}return function(){return a(es.apply(null,arguments))}}const V=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},nt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,it=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rs=/^\d+\/\d+$/,ss=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ns=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,is=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,as=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ls=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,te=t=>rs.test(t),F=t=>!!t&&!Number.isNaN(Number(t)),H=t=>!!t&&Number.isInteger(Number(t)),_e=t=>t.endsWith("%")&&F(t.slice(0,-1)),X=t=>ss.test(t),os=()=>!0,cs=t=>ns.test(t)&&!is.test(t),at=()=>!1,hs=t=>as.test(t),ds=t=>ls.test(t),fs=t=>!M(t)&&!_(t),us=t=>re(t,dt,at),M=t=>nt.test(t),K=t=>re(t,ft,cs),Ae=t=>re(t,xs,F),lt=t=>re(t,ct,at),gs=t=>re(t,ht,ds),he=t=>re(t,ut,hs),_=t=>it.test(t),oe=t=>se(t,ft),ps=t=>se(t,ys),ot=t=>se(t,ct),ms=t=>se(t,dt),bs=t=>se(t,ht),de=t=>se(t,ut,!0),re=(t,e,r)=>{const s=nt.exec(t);return s?s[1]?e(s[1]):r(s[2]):!1},se=(t,e,r=!1)=>{const s=it.exec(t);return s?s[1]?e(s[1]):r:!1},ct=t=>t==="position"||t==="percentage",ht=t=>t==="image"||t==="url",dt=t=>t==="length"||t==="size"||t==="bg-size",ft=t=>t==="length",xs=t=>t==="number",ys=t=>t==="family-name",ut=t=>t==="shadow",ws=ts(()=>{const t=V("color"),e=V("font"),r=V("text"),s=V("font-weight"),n=V("tracking"),a=V("leading"),i=V("breakpoint"),o=V("container"),l=V("spacing"),h=V("radius"),c=V("shadow"),d=V("inset-shadow"),f=V("text-shadow"),p=V("drop-shadow"),u=V("blur"),g=V("perspective"),m=V("aspect"),x=V("ease"),S=V("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...b(),_,M],y=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],v=()=>[_,M,l],R=()=>[te,"full","auto",...v()],O=()=>[H,"none","subgrid",_,M],I=()=>["auto",{span:["full",H,_,M]},H,_,M],T=()=>[H,"auto",_,M],L=()=>["auto","min","max","fr",_,M],C=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...v()],W=()=>[te,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],E=()=>[t,_,M],ne=()=>[...b(),ot,lt,{position:[_,M]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",ms,us,{size:[_,M]}],ee=()=>[_e,oe,K],B=()=>["","none","full",h,_,M],G=()=>["",F,oe,K],Y=()=>["solid","dashed","dotted","double"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>[F,_e,ot,lt],Q=()=>["","none",u,_,M],j=()=>["none",F,_,M],N=()=>["none",F,_,M],Fe=()=>[F,_,M],ue=()=>[te,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[X],breakpoint:[X],color:[os],container:[X],"drop-shadow":[X],ease:["in","out","in-out"],font:[fs],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[X],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[X],shadow:[X],spacing:["px",F],text:[X],"text-shadow":[X],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",te,M,_,m]}],container:["container"],columns:[{columns:[F,M,_,o]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:y()}],"overflow-x":[{"overflow-x":y()}],"overflow-y":[{"overflow-y":y()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[H,"auto",_,M]}],basis:[{basis:[te,"full","auto",o,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[F,te,"auto","initial","none",M]}],grow:[{grow:["",F,_,M]}],shrink:[{shrink:["",F,_,M]}],order:[{order:[H,"first","last","none",_,M]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:[...C(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...C()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":C()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[o,"screen",...W()]}],"min-w":[{"min-w":[o,"screen","none",...W()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",r,oe,K]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,_,Ae]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_e,M]}],"font-family":[{font:[ps,M,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,_,M]}],"line-clamp":[{"line-clamp":[F,"none",_,Ae]}],leading:[{leading:[a,...v()]}],"list-image":[{"list-image":["none",_,M]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_,M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:[F,"from-font","auto",_,K]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[F,"auto",_,M]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_,M]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_,M]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},H,_,M],radial:["",_,M],conic:[H,_,M]},bs,gs]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Y(),"hidden","none"]}],"divide-style":[{divide:[...Y(),"hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:[...Y(),"none","hidden"]}],"outline-offset":[{"outline-offset":[F,_,M]}],"outline-w":[{outline:["",F,oe,K]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",c,de,he]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",d,de,he]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[F,K]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",f,de,he]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[F,_,M]}],"mix-blend":[{"mix-blend":[...Z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[F]}],"mask-image-linear-from-pos":[{"mask-linear-from":P()}],"mask-image-linear-to-pos":[{"mask-linear-to":P()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":P()}],"mask-image-t-to-pos":[{"mask-t-to":P()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":P()}],"mask-image-r-to-pos":[{"mask-r-to":P()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":P()}],"mask-image-b-to-pos":[{"mask-b-to":P()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":P()}],"mask-image-l-to-pos":[{"mask-l-to":P()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":P()}],"mask-image-x-to-pos":[{"mask-x-to":P()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":P()}],"mask-image-y-to-pos":[{"mask-y-to":P()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[_,M]}],"mask-image-radial-from-pos":[{"mask-radial-from":P()}],"mask-image-radial-to-pos":[{"mask-radial-to":P()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[F]}],"mask-image-conic-from-pos":[{"mask-conic-from":P()}],"mask-image-conic-to-pos":[{"mask-conic-to":P()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_,M]}],filter:[{filter:["","none",_,M]}],blur:[{blur:Q()}],brightness:[{brightness:[F,_,M]}],contrast:[{contrast:[F,_,M]}],"drop-shadow":[{"drop-shadow":["","none",p,de,he]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",F,_,M]}],"hue-rotate":[{"hue-rotate":[F,_,M]}],invert:[{invert:["",F,_,M]}],saturate:[{saturate:[F,_,M]}],sepia:[{sepia:["",F,_,M]}],"backdrop-filter":[{"backdrop-filter":["","none",_,M]}],"backdrop-blur":[{"backdrop-blur":Q()}],"backdrop-brightness":[{"backdrop-brightness":[F,_,M]}],"backdrop-contrast":[{"backdrop-contrast":[F,_,M]}],"backdrop-grayscale":[{"backdrop-grayscale":["",F,_,M]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[F,_,M]}],"backdrop-invert":[{"backdrop-invert":["",F,_,M]}],"backdrop-opacity":[{"backdrop-opacity":[F,_,M]}],"backdrop-saturate":[{"backdrop-saturate":[F,_,M]}],"backdrop-sepia":[{"backdrop-sepia":["",F,_,M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_,M]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[F,"initial",_,M]}],ease:[{ease:["linear","initial",x,_,M]}],delay:[{delay:[F,_,M]}],animate:[{animate:["none",S,_,M]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,_,M]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:j()}],"rotate-x":[{"rotate-x":j()}],"rotate-y":[{"rotate-y":j()}],"rotate-z":[{"rotate-z":j()}],scale:[{scale:N()}],"scale-x":[{"scale-x":N()}],"scale-y":[{"scale-y":N()}],"scale-z":[{"scale-z":N()}],"scale-3d":["scale-3d"],skew:[{skew:Fe()}],"skew-x":[{"skew-x":Fe()}],"skew-y":[{"skew-y":Fe()}],transform:[{transform:[_,M,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_,M]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_,M]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[F,oe,K,Ae]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function J(...t){return ws($r(t))}const vs=`
    attribute vec2 uv;
    attribute vec2 position;
    
    varying vec2 vUv;
    
    void main() {
        vUv = uv;
        gl_Position = vec4(position, 0, 1);
    }
    `,ks=`
    precision highp float;
    
    uniform float uTime;
    uniform vec3 uColor;
    uniform vec3 uResolution;
    
    varying vec2 vUv;
    
    void main() {
        float mr = min(uResolution.x, uResolution.y);
        vec2 uv = (vUv.xy * 2.0 - 1.0) * uResolution.xy / mr;
    
        float d = -uTime * 1.2;
        float a = 0.0;
        for (float i = 0.0; i < 8.0; ++i) {
            a += cos(i - d - a * uv.x);
            d += sin(uv.y * i + a);
        }
        d += uTime * 1.0;
        vec3 col = vec3(cos(uv * vec2(d, a)) * 0.6 + 0.4, cos(a + d) * 0.5 + 0.5);
        col = cos(col * cos(vec3(d, a, 2.5)) * 0.5 + 0.5);
        gl_FragColor = vec4(col, 1.0);
    }
    `,Ms=k.defineComponent({__name:"LiquidBackground",props:{class:{}},setup(t){const e=t,r=k.ref(null);let s,n,a,i,o=null;function l(){if(!r.value)return;const c=1;n.setSize(r.value.offsetWidth*c,r.value.offsetHeight*c),i&&(i.program.uniforms.uResolution.value=[a.canvas.width,a.canvas.height,a.canvas.width/a.canvas.height])}function h(c){s=requestAnimationFrame(h),i&&(i.program.uniforms.uTime.value=c*.001,n.render({scene:i}))}return k.onMounted(()=>{if(!r.value)return;n=new Vt,a=n.gl,a.clearColor(1,1,1,1),window.addEventListener("resize",l,!1),o=new ResizeObserver(l),o.observe(r.value),l();const c=new Gr(a),d=new It(a,{vertex:vs,fragment:ks,uniforms:{uTime:{value:0},uColor:{value:new Vr(.3,.2,.5)},uResolution:{value:[a.canvas.width,a.canvas.height,a.canvas.width/a.canvas.height]}}});i=new Br(a,{geometry:c,program:d}),s=requestAnimationFrame(h),r.value.appendChild(a.canvas)}),k.onUnmounted(()=>{var c;cancelAnimationFrame(s),window.removeEventListener("resize",l),o&&r.value&&(o.unobserve(r.value),o.disconnect()),r.value&&(a!=null&&a.canvas)&&r.value.removeChild(a.canvas),(c=a==null?void 0:a.getExtension("WEBGL_lose_context"))==null||c.loseContext()}),(c,d)=>(k.openBlock(),k.createElementBlock("div",{ref_key:"ctnDom",ref:r,class:k.normalizeClass(k.unref(J)("block size-full",e==null?void 0:e.class))},null,2))}}),_s=1/3,q=1/6,Ee=t=>Math.floor(t)|0,ze=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function Ce(t=Math.random){const e=As(t),r=new Float64Array(e).map(a=>ze[a%12*3]),s=new Float64Array(e).map(a=>ze[a%12*3+1]),n=new Float64Array(e).map(a=>ze[a%12*3+2]);return function(i,o,l){let h,c,d,f;const p=(i+o+l)*_s,u=Ee(i+p),g=Ee(o+p),m=Ee(l+p),x=(u+g+m)*q,S=u-x,A=g-x,b=m-x,w=i-S,y=o-A,z=l-b;let v,R,O,I,T,L;w>=y?y>=z?(v=1,R=0,O=0,I=1,T=1,L=0):w>=z?(v=1,R=0,O=0,I=1,T=0,L=1):(v=0,R=0,O=1,I=1,T=0,L=1):y<z?(v=0,R=0,O=1,I=0,T=1,L=1):w<z?(v=0,R=1,O=0,I=0,T=1,L=1):(v=0,R=1,O=0,I=1,T=1,L=0);const C=w-v+q,$=y-R+q,U=z-O+q,W=w-I+2*q,E=y-T+2*q,ne=z-L+2*q,ie=w-1+3*q,ae=y-1+3*q,ee=z-1+3*q,B=u&255,G=g&255,Y=m&255;let Z=.6-w*w-y*y-z*z;if(Z<0)h=0;else{const N=B+e[G+e[Y]];Z*=Z,h=Z*Z*(r[N]*w+s[N]*y+n[N]*z)}let P=.6-C*C-$*$-U*U;if(P<0)c=0;else{const N=B+v+e[G+R+e[Y+O]];P*=P,c=P*P*(r[N]*C+s[N]*$+n[N]*U)}let Q=.6-W*W-E*E-ne*ne;if(Q<0)d=0;else{const N=B+I+e[G+T+e[Y+L]];Q*=Q,d=Q*Q*(r[N]*W+s[N]*E+n[N]*ne)}let j=.6-ie*ie-ae*ae-ee*ee;if(j<0)f=0;else{const N=B+1+e[G+1+e[Y+1]];j*=j,f=j*j*(r[N]*ie+s[N]*ae+n[N]*ee)}return 32*(h+c+d+f)}}function As(t){const r=new Uint8Array(512);for(let s=0;s<256;s++)r[s]=s;for(let s=0;s<255;s++){const n=s+~~(t()*(256-s)),a=r[s];r[s]=r[n],r[n]=a}for(let s=256;s<512;s++)r[s]=r[s-256];return r}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const gt=()=>{};function Es(t,e){function r(...s){return new Promise((n,a)=>{Promise.resolve(t(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})).then(n).catch(a)})}return r}function zs(t,e={}){let r,s,n=gt;const a=l=>{clearTimeout(l),n(),n=gt};let i;return l=>{const h=k.toValue(t),c=k.toValue(e.maxWait);return r&&a(r),h<=0||c!==void 0&&c<=0?(s&&(a(s),s=null),Promise.resolve(l())):new Promise((d,f)=>{n=e.rejectOnCancel?f:d,i=l,c&&!s&&(s=setTimeout(()=>{r&&a(r),s=null,d(i())},c)),r=setTimeout(()=>{s&&a(s),s=null,d(l())},h)})}}function Cs(t){return k.getCurrentInstance()}function Ss(t,e=200,r={}){return Es(zs(e,r),t)}function Fs(t,e=!0,r){Cs()?k.onMounted(t,r):e?t():k.nextTick(t)}function fe(t,e=null){const r=k.getCurrentInstance();let s=()=>{};const n=k.customRef((a,i)=>(s=i,{get(){var o,l;return a(),(l=(o=r==null?void 0:r.proxy)==null?void 0:o.$refs[t])!=null?l:e},set(){}}));return Fs(s),k.onUpdated(s),n}const Rs=k.defineComponent({__name:"WavyBackground",props:{class:{},containerClass:{},colors:{default:()=>["#03C5A6","#f587c9","#818cf8","#22d3ee","#FE873C"]},waveWidth:{default:50},backgroundFill:{default:"black"},blur:{default:8},speed:{default:"slow"},waveOpacity:{default:.5}},setup(t){const e=t,r=Ce();let s,n,a=0,i=null,o;const l=fe("canvasRef");let h=null;function c(){const m=l.value;if(m&&(i=m.getContext("2d"),i)){const x=m.parentElement;x&&(s=i.canvas.width=x.clientWidth,n=i.canvas.height=x.clientHeight),i.filter=`blur(${e.blur}px)`}}function d(){return e.speed==="slow"?.001:.003}function f(){const m=l.value;if(m&&(i=m.getContext("2d"),i)){const x=m.parentElement;x&&(s=i.canvas.width=x.clientWidth,n=i.canvas.height=x.clientHeight,h=new ResizeObserver(c),h.observe(x)),i.filter=`blur(${e.blur}px)`,u()}}function p(m){a+=d();for(let x=0;x<m;x++){i.beginPath(),i.lineWidth=e.waveWidth,i.strokeStyle=e.colors[x%e.colors.length];for(let S=0;S<s;S+=5){const A=r(S/800,.3*x,a)*100;i.lineTo(S,A+n*.5)}i.stroke(),i.closePath()}}function u(){i&&(i.fillStyle=e.backgroundFill,i.globalAlpha=e.waveOpacity,i.fillRect(0,0,s,n),p(5),o=requestAnimationFrame(u))}k.onBeforeUnmount(()=>{var m;cancelAnimationFrame(o),h&&((m=l.value)!=null&&m.parentElement)&&(h.unobserve(l.value.parentElement),h.disconnect())});const g=k.ref(!1);return k.onMounted(()=>{g.value=typeof window<"u"&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),f()}),(m,x)=>(k.openBlock(),k.createElementBlock("div",{class:k.normalizeClass(k.unref(J)("h-screen flex flex-col items-center justify-center",e.containerClass))},[k.createElementVNode("canvas",{id:"canvas",ref_key:"canvasRef",ref:l,class:"absolute z-0",style:k.normalizeStyle({filter:g.value?`blur(${e.blur}px)`:void 0})},null,4),k.createElementVNode("div",{class:k.normalizeClass(k.unref(J)("relative z-10",e.class))},[k.renderSlot(m.$slots,"default")],2)],2))}}),Ts=k.defineComponent({__name:"LineBackground",props:{class:{},containerClass:{},colors:{default:()=>["#000000","#000000","#000000","#000000","#000000"]},waveWidth:{default:1},backgroundFill:{default:"white"},blur:{default:0},speed:{default:"fast"},waveOpacity:{default:1}},setup(t){const e=t,r=Ce();let s,n,a=0,i=null,o;const l=fe("canvasRef");function h(){return e.speed==="slow"?.001:.004}function c(){const u=l.value;if(u&&(i=u.getContext("2d"),i)){const g=l.value.parentElement;g&&(s=i.canvas.width=g.clientWidth,n=i.canvas.height=g.clientHeight),i.filter=`blur(${e.blur}px)`,window.onresize=()=>{g&&(s=i.canvas.width=g.clientWidth,n=i.canvas.height=g.clientHeight),i.filter=`blur(${e.blur}px)`},f()}}function d(u){a+=h();for(let g=0;g<u;g++){i.beginPath(),i.lineWidth=e.waveWidth,i.strokeStyle=e.colors[g%e.colors.length];for(let m=0;m<s;m+=5){const x=r(m/500,.3*g,a)*100;i.lineTo(m,x+n*.5)}i.stroke(),i.closePath()}}function f(){i&&(i.fillStyle=e.backgroundFill,i.globalAlpha=e.waveOpacity,i.fillRect(0,0,s,n),d(5),o=requestAnimationFrame(f))}k.onBeforeUnmount(()=>{cancelAnimationFrame(o)});const p=k.ref(!1);return k.onMounted(()=>{p.value=typeof window<"u"&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),c()}),(u,g)=>(k.openBlock(),k.createElementBlock("div",{class:k.normalizeClass(k.unref(J)("h-screen flex flex-col items-center justify-center",e.containerClass))},[k.createElementVNode("canvas",{id:"canvas",ref_key:"canvasRef",ref:l,class:"absolute z-0",style:k.normalizeStyle({filter:p.value?`blur(${e.blur}px)`:void 0})},null,4),k.createElementVNode("div",{class:k.normalizeClass(k.unref(J)("relative z-10",e.class))},[k.renderSlot(u.$slots,"default")],2)],2))}}),Os=50,Is=150,Se=9,Ls=100,Ps=3,Bs=.00125,Ns=.00125,Vs=5e-4;return{LiquidBackground:Ms,WavyBackground:Rs,LineBackground:Ts,Vortex:k.defineComponent({__name:"Vortex",props:{class:{},containerClass:{},particleCount:{default:700},rangeY:{default:100},baseHue:{default:220},baseSpeed:{default:0},rangeSpeed:{default:1.5},baseRadius:{default:1},rangeRadius:{default:2},backgroundColor:{default:"#000000"}},setup(t){const e=2*Math.PI,r=t,s=k.ref(0),n=k.ref(null),a=k.shallowRef(null),i=k.ref([0,0]),o=k.shallowRef(null),l=fe("canvasRef"),h=fe("containerRef"),c={x:0,y:0,vx:0,vy:0,life:0,ttl:0,speed:0,radius:0,hue:0},d=Ce();function f(b){return b*Math.random()}function p(b){return b-f(2*b)}function u(b,w){const y=.5*w;return Math.abs((b+y)%w-y)/y}function g(b,w,y){return(1-y)*b+y*w}function m(b){if(!a.value||!l.value)return;const w=l.value;c.x=f(w.width),c.y=i.value[1]+p(r.rangeY),c.vx=0,c.vy=0,c.life=0,c.ttl=Os+f(Is),c.speed=r.baseSpeed+f(r.rangeSpeed),c.radius=r.baseRadius+f(r.rangeRadius),c.hue=r.baseHue+f(Ls),a.value.set([c.x,c.y,c.vx,c.vy,c.life,c.ttl,c.speed,c.radius,c.hue],b)}function x(b){if(!a.value||!l.value||!o.value)return;const w=l.value,y=a.value,z=o.value;c.x=y[b],c.y=y[b+1],c.vx=y[b+2],c.vy=y[b+3],c.life=y[b+4],c.ttl=y[b+5],c.speed=y[b+6],c.radius=y[b+7],c.hue=y[b+8];const v=d(c.x*Bs,c.y*Ns,s.value*Vs)*Ps*e,R=g(c.vx,Math.cos(v),.5),O=g(c.vy,Math.sin(v),.5),I=c.x+R*c.speed,T=c.y+O*c.speed;z.save(),z.lineCap="round",z.lineWidth=c.radius,z.strokeStyle=`hsla(${c.hue},100%,60%,${u(c.life,c.ttl)})`,z.beginPath(),z.moveTo(c.x,c.y),z.lineTo(I,T),z.stroke(),z.restore(),y[b]=I,y[b+1]=T,y[b+2]=R,y[b+3]=O,y[b+4]=c.life+1,(I>w.width||I<0||T>w.height||T<0||c.life>c.ttl)&&m(b)}function S(){if(!l.value||!o.value||!a.value)return;const b=l.value,w=o.value;s.value++,w.fillStyle=r.backgroundColor,w.fillRect(0,0,b.width,b.height);for(let y=0;y<a.value.length;y+=Se)x(y);w.save(),w.filter="blur(8px) brightness(200%)",w.globalCompositeOperation="lighter",w.drawImage(b,0,0),w.restore(),w.save(),w.filter="blur(4px) brightness(200%)",w.globalCompositeOperation="lighter",w.drawImage(b,0,0),w.restore(),n.value=requestAnimationFrame(S)}const A=Ss(()=>{if(!l.value)return;const b=l.value,{innerWidth:w,innerHeight:y}=window;b.width=w,b.height=y,i.value=[.5*b.width,.5*b.height]},150);return k.onMounted(()=>{const b=l.value;if(!b||(o.value=b.getContext("2d"),!o.value))return;b.width=window.innerWidth,b.height=window.innerHeight,i.value=[.5*b.width,.5*b.height];const w=r.particleCount*Se;a.value=new Float32Array(w);for(let y=0;y<w;y+=Se)m(y);S(),window.addEventListener("resize",A)}),k.onUnmounted(()=>{n.value&&cancelAnimationFrame(n.value),window.removeEventListener("resize",A),o.value=null,a.value=null}),(b,w)=>{const y=k.resolveComponent("Motion");return k.openBlock(),k.createElementBlock("div",{class:k.normalizeClass(k.unref(J)("relative h-full w-full",r.containerClass))},[k.createVNode(y,{ref_key:"containerRef",ref:h,as:"div",initial:{opacity:0},animate:{opacity:1},class:"absolute inset-0 z-0 flex size-full items-center justify-center bg-transparent"},{default:k.withCtx(()=>[k.createElementVNode("canvas",{ref_key:"canvasRef",ref:l},null,512)]),_:1},512),k.createElementVNode("div",{class:k.normalizeClass(k.unref(J)("relative z-10",r.class))},[k.renderSlot(b.$slots,"default")],2)],2)}}})}}(Vue);
